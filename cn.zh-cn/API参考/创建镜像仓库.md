# 创建镜像仓库<a name="swr_02_0030"></a>

## 功能介绍<a name="section14905762191056"></a>

在组织下创建镜像仓库。

## 调试<a name="section85822133314"></a>

您可以在[API Explorer](https://apiexplorer.developer.huaweicloud.com/apiexplorer/doc?product=SWR&api=CreateRepo)中直接运行调试该接口。

## URI<a name="section10482810165331"></a>

POST /v2/manage/namespaces/\{namespace\}/repos

参数说明请参见[表1](#table155961192716)。

**表 1**  参数说明

<a name="table155961192716"></a>
<table><thead align="left"><tr id="row66016114276"><th class="cellrowborder" valign="top" width="16.011601160116008%" id="mcps1.2.5.1.1"><p id="p1969191112717"><a name="p1969191112717"></a><a name="p1969191112717"></a>参数名称</p>
</th>
<th class="cellrowborder" valign="top" width="14.271427142714272%" id="mcps1.2.5.1.2"><p id="p1311119571031"><a name="p1311119571031"></a><a name="p1311119571031"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="14.291429142914291%" id="mcps1.2.5.1.3"><p id="p14796031194218"><a name="p14796031194218"></a><a name="p14796031194218"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="55.42554255425542%" id="mcps1.2.5.1.4"><p id="p20214193316271"><a name="p20214193316271"></a><a name="p20214193316271"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row12601115273"><td class="cellrowborder" valign="top" width="16.011601160116008%" headers="mcps1.2.5.1.1 "><p id="p8692191132719"><a name="p8692191132719"></a><a name="p8692191132719"></a>namespace</p>
</td>
<td class="cellrowborder" valign="top" width="14.271427142714272%" headers="mcps1.2.5.1.2 "><p id="p1611814571310"><a name="p1611814571310"></a><a name="p1611814571310"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="14.291429142914291%" headers="mcps1.2.5.1.3 "><p id="p48011931194218"><a name="p48011931194218"></a><a name="p48011931194218"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="55.42554255425542%" headers="mcps1.2.5.1.4 "><p id="p1317518468289"><a name="p1317518468289"></a><a name="p1317518468289"></a>组织名称</p>
<p id="p7304102751814"><a name="p7304102751814"></a><a name="p7304102751814"></a>小写字母开头，后面跟小写字母、数字、小数点、下划线或中划线（其中下划线最多允许连续两个，小数点、下划线、中划线不能直接相连），小写字母或数字结尾，1-64个字符。</p>
</td>
</tr>
</tbody>
</table>

## 请求消息<a name="section3270966102931"></a>

-   请求参数

    **表 2**  FormData参数说明

    <a name="table106311754152313"></a>
    <table><thead align="left"><tr id="row16631125411231"><th class="cellrowborder" valign="top" width="15.941594159415938%" id="mcps1.2.5.1.1"><p id="p6631654202310"><a name="p6631654202310"></a><a name="p6631654202310"></a>参数名称</p>
    </th>
    <th class="cellrowborder" valign="top" width="15.831583158315832%" id="mcps1.2.5.1.2"><p id="p1163145415238"><a name="p1163145415238"></a><a name="p1163145415238"></a>是否必选</p>
    </th>
    <th class="cellrowborder" valign="top" width="16.21162116211621%" id="mcps1.2.5.1.3"><p id="p136314548239"><a name="p136314548239"></a><a name="p136314548239"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="52.01520152015201%" id="mcps1.2.5.1.4"><p id="p166311754122312"><a name="p166311754122312"></a><a name="p166311754122312"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row13631175452316"><td class="cellrowborder" valign="top" width="15.941594159415938%" headers="mcps1.2.5.1.1 "><p id="p06312054142312"><a name="p06312054142312"></a><a name="p06312054142312"></a>repository</p>
    </td>
    <td class="cellrowborder" valign="top" width="15.831583158315832%" headers="mcps1.2.5.1.2 "><p id="p5631115412230"><a name="p5631115412230"></a><a name="p5631115412230"></a>是</p>
    </td>
    <td class="cellrowborder" valign="top" width="16.21162116211621%" headers="mcps1.2.5.1.3 "><p id="p16311954112317"><a name="p16311954112317"></a><a name="p16311954112317"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="52.01520152015201%" headers="mcps1.2.5.1.4 "><p id="p36552717296"><a name="p36552717296"></a><a name="p36552717296"></a>镜像仓库名称</p>
    <p id="p2063111543236"><a name="p2063111543236"></a><a name="p2063111543236"></a>小写字母或数字开头，后面跟小写字母、数字、小数点、斜杠、下划线或中划线（其中下划线最多允许连续两个，小数点、斜杠、下划线、中划线不能直接相连），小写字母或数字结尾，1-128个字符。</p>
    </td>
    </tr>
    <tr id="row2063195420234"><td class="cellrowborder" valign="top" width="15.941594159415938%" headers="mcps1.2.5.1.1 "><p id="p13631454152312"><a name="p13631454152312"></a><a name="p13631454152312"></a>category</p>
    </td>
    <td class="cellrowborder" valign="top" width="15.831583158315832%" headers="mcps1.2.5.1.2 "><p id="p11631175472317"><a name="p11631175472317"></a><a name="p11631175472317"></a>否</p>
    </td>
    <td class="cellrowborder" valign="top" width="16.21162116211621%" headers="mcps1.2.5.1.3 "><p id="p663165413237"><a name="p663165413237"></a><a name="p663165413237"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="52.01520152015201%" headers="mcps1.2.5.1.4 "><p id="p71841725332"><a name="p71841725332"></a><a name="p71841725332"></a>仓库类型</p>
    <p id="p1763115547236"><a name="p1763115547236"></a><a name="p1763115547236"></a>可设置为app_server、linux、framework_app、database、lang、other、windows、arm。</p>
    </td>
    </tr>
    <tr id="row186320540234"><td class="cellrowborder" valign="top" width="15.941594159415938%" headers="mcps1.2.5.1.1 "><p id="p19632954182311"><a name="p19632954182311"></a><a name="p19632954182311"></a>description</p>
    </td>
    <td class="cellrowborder" valign="top" width="15.831583158315832%" headers="mcps1.2.5.1.2 "><p id="p863295410231"><a name="p863295410231"></a><a name="p863295410231"></a>否</p>
    </td>
    <td class="cellrowborder" valign="top" width="16.21162116211621%" headers="mcps1.2.5.1.3 "><p id="p6632195411236"><a name="p6632195411236"></a><a name="p6632195411236"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="52.01520152015201%" headers="mcps1.2.5.1.4 "><p id="p12632185416237"><a name="p12632185416237"></a><a name="p12632185416237"></a>镜像仓库的描述信息</p>
    </td>
    </tr>
    <tr id="row3632354142318"><td class="cellrowborder" valign="top" width="15.941594159415938%" headers="mcps1.2.5.1.1 "><p id="p26324542236"><a name="p26324542236"></a><a name="p26324542236"></a>is_public</p>
    </td>
    <td class="cellrowborder" valign="top" width="15.831583158315832%" headers="mcps1.2.5.1.2 "><p id="p106321554102310"><a name="p106321554102310"></a><a name="p106321554102310"></a>是</p>
    </td>
    <td class="cellrowborder" valign="top" width="16.21162116211621%" headers="mcps1.2.5.1.3 "><p id="p176322054112311"><a name="p176322054112311"></a><a name="p176322054112311"></a>Boolean</p>
    </td>
    <td class="cellrowborder" valign="top" width="52.01520152015201%" headers="mcps1.2.5.1.4 "><p id="p763245415236"><a name="p763245415236"></a><a name="p763245415236"></a>是否为公共仓库，可选值为true或false。</p>
    </td>
    </tr>
    </tbody>
    </table>

-   请求样例

    ```
    POST https://{Endpoint}/v2/manage/namespaces/group/repos
    ```

    Body：

    ```
    -F "repository=busybox" \
    -F "category=linux" \
    -F "description=this is a busybox repository" \
    -F "is_public=true"
    ```

    或

    ```
    {
        "repository": "busybox",
        "category": "linux",
        "description": "this is a busybox repository",
        "is_public": true
    }
    ```

    >![](public_sys-resources/icon-note.gif) **说明：** 
    >表单形式即将下线，建议使用JSON格式Body体进行调用。


## 响应消息<a name="section46271297104114"></a>

-   响应参数

    无

-   响应样例

    ```
    {}
    ```


## 状态码<a name="section5365169104253"></a>

<a name="table1537514248301"></a>
<table><thead align="left"><tr id="row183751324163014"><th class="cellrowborder" valign="top" width="16.99%" id="mcps1.1.3.1.1"><p id="p1437512453016"><a name="p1437512453016"></a><a name="p1437512453016"></a>状态码</p>
</th>
<th class="cellrowborder" valign="top" width="83.00999999999999%" id="mcps1.1.3.1.2"><p id="p23751724153018"><a name="p23751724153018"></a><a name="p23751724153018"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row837511241306"><td class="cellrowborder" valign="top" width="16.99%" headers="mcps1.1.3.1.1 "><p id="p53752024103012"><a name="p53752024103012"></a><a name="p53752024103012"></a>201</p>
</td>
<td class="cellrowborder" valign="top" width="83.00999999999999%" headers="mcps1.1.3.1.2 "><p id="p5375162413308"><a name="p5375162413308"></a><a name="p5375162413308"></a>创建成功</p>
</td>
</tr>
<tr id="row13375142417305"><td class="cellrowborder" valign="top" width="16.99%" headers="mcps1.1.3.1.1 "><p id="p11375724133011"><a name="p11375724133011"></a><a name="p11375724133011"></a>400</p>
</td>
<td class="cellrowborder" valign="top" width="83.00999999999999%" headers="mcps1.1.3.1.2 "><p id="p13761324103020"><a name="p13761324103020"></a><a name="p13761324103020"></a>错误请求，返回错误信息。</p>
</td>
</tr>
<tr id="row1293417915613"><td class="cellrowborder" valign="top" width="16.99%" headers="mcps1.1.3.1.1 "><p id="p2093513935619"><a name="p2093513935619"></a><a name="p2093513935619"></a>401</p>
</td>
<td class="cellrowborder" valign="top" width="83.00999999999999%" headers="mcps1.1.3.1.2 "><p id="p9935209195617"><a name="p9935209195617"></a><a name="p9935209195617"></a>鉴权失败</p>
</td>
</tr>
<tr id="row615125910308"><td class="cellrowborder" valign="top" width="16.99%" headers="mcps1.1.3.1.1 "><p id="p2015111596307"><a name="p2015111596307"></a><a name="p2015111596307"></a>409</p>
</td>
<td class="cellrowborder" valign="top" width="83.00999999999999%" headers="mcps1.1.3.1.2 "><p id="p1215115593304"><a name="p1215115593304"></a><a name="p1215115593304"></a>repository已存在</p>
</td>
</tr>
<tr id="row837612433016"><td class="cellrowborder" valign="top" width="16.99%" headers="mcps1.1.3.1.1 "><p id="p937619249301"><a name="p937619249301"></a><a name="p937619249301"></a>500</p>
</td>
<td class="cellrowborder" valign="top" width="83.00999999999999%" headers="mcps1.1.3.1.2 "><p id="p33761245309"><a name="p33761245309"></a><a name="p33761245309"></a>服务器内部错误，返回错误信息。</p>
</td>
</tr>
</tbody>
</table>

